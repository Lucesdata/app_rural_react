import{a as d,j as e}from"./index-Dm10mRV8.js";import{p}from"./plantas-BSzwfbjd.js";const x="_wrapper_dxfdu_2",_="_title_dxfdu_9",h="_label_dxfdu_19",f="_dropdown_dxfdu_28",j="_empty_dxfdu_63",b="_emptyIcon_dxfdu_76",N="_emptyTitle_dxfdu_84",g="_emptyHint_dxfdu_91",k="_card_dxfdu_112",v="_header_dxfdu_124",y="_cardTitle_dxfdu_131",I="_mapLink_dxfdu_140",T="_meta_dxfdu_158",L="_metaItem_dxfdu_165",S="_metaLabel_dxfdu_173",A="_metaValue_dxfdu_180",C="_kpis_dxfdu_187",P="_kpiItem_dxfdu_194",w="_icon_dxfdu_210",V="_kpiText_dxfdu_216",q="_more_dxfdu_224",D="_moreSummary_dxfdu_230",F="_detailGrid_dxfdu_253",H="_badge_dxfdu_261",a={wrapper:x,title:_,label:h,dropdown:f,empty:j,emptyIcon:b,emptyTitle:N,emptyHint:g,card:k,header:v,cardTitle:y,mapLink:I,meta:T,metaItem:L,metaLabel:S,metaValue:A,kpis:C,kpiItem:P,icon:w,kpiText:V,more:q,moreSummary:D,detailGrid:F,badge:H};function i(s){if(s==null)return null;const c=String(s).replace(",","."),l=Number(c);return Number.isFinite(l)?l:null}function G(s){return{id:String(s.id??s.planta??""),planta:s.planta??s.nombre??"Planta",nombre:s.nombre??s.planta??"",vereda:s.vereda??"",corregimiento:s.corregimiento??"",fuente:s.fuente??"",tipoAgua:s.tipoAgua??s.tipoAgua??"",tipoPlanta:s.tipoPlanta??"",conduccion:s.conduccion??"",tanqueAbastec:s.tanqueAbastec??s["tanqueAbastec."]??"",desarenador:s.desarenador??"",desinfeccion:s.desinfeccion??"",caudalDiseno:i(s.caudaDiseÃ±o??s.caudalDiseÃ±o),caudalConcesion:i(s.caudalConcesion??s["caudalConcesion "]),usuarios:i(s.usuarios),poblacion:i(s.poblacion??s.PoblaciÃ³n),lat:i(s.lat??s.latitud),lng:i(s.lng??s.longitud)}}function E(){const[s,c]=d.useState(""),l=d.useMemo(()=>p.map(G),[]),n=d.useMemo(()=>l.find(t=>t.id===s),[l,s]);function r(t){return t==null?"â€”":t.toLocaleString("es-CO")}function o(t){return t==null?"â€”":t.toLocaleString("es-CO",{maximumFractionDigits:2})}const m=n?.lat!=null&&n?.lng!=null?`https://www.google.com/maps?q=${n.lat},${n.lng}`:null;return e.jsxs("div",{className:a.wrapper,children:[e.jsx("h1",{className:a.title,children:"Selecciona una planta"}),e.jsx("label",{htmlFor:"plant-select",className:a.label,children:"Planta"}),e.jsxs("select",{id:"plant-select",value:s,onChange:t=>c(t.target.value),className:a.dropdown,"aria-label":"Seleccionar planta",children:[e.jsx("option",{value:"",children:"â€” Selecciona â€”"}),l.map(t=>e.jsx("option",{value:t.id,children:t.planta},t.id))]}),!n&&e.jsxs("section",{className:a.empty,"aria-live":"polite",children:[e.jsx("div",{className:a.emptyIcon,"aria-hidden":"true",children:"ðŸ’§"}),e.jsx("h2",{className:a.emptyTitle,children:"Explora plantas de agua potable"}),e.jsx("p",{className:a.emptyHint,children:"Usa el selector de arriba para ver detalles de una planta."})]}),n&&e.jsxs("article",{className:a.card,role:"region","aria-label":`Planta ${n.planta}`,children:[e.jsxs("header",{className:a.header,children:[e.jsx("h2",{className:a.cardTitle,children:n.planta}),m&&e.jsx("a",{className:a.mapLink,href:m,target:"_blank",rel:"noreferrer",children:"ðŸ“ Ver en mapa"})]}),e.jsxs("div",{className:a.meta,children:[n.vereda&&e.jsxs("div",{className:a.metaItem,children:[e.jsx("span",{className:a.metaLabel,children:"Vereda"}),e.jsx("span",{className:a.metaValue,children:n.vereda})]}),n.corregimiento&&e.jsxs("div",{className:a.metaItem,children:[e.jsx("span",{className:a.metaLabel,children:"Corregimiento"}),e.jsx("span",{className:a.metaValue,children:n.corregimiento})]}),n.fuente&&e.jsxs("div",{className:a.metaItem,children:[e.jsx("span",{className:a.metaLabel,children:"Fuente"}),e.jsx("span",{className:a.metaValue,children:n.fuente})]})]}),e.jsxs("div",{className:a.kpis,children:[e.jsxs("div",{className:a.kpiItem,"aria-label":"Usuarios",children:[e.jsx("span",{className:a.icon,"aria-hidden":"true",children:"ðŸ‘¥"}),e.jsxs("span",{className:a.kpiText,children:[r(n.usuarios)," usuarios"]})]}),e.jsxs("div",{className:a.kpiItem,"aria-label":"PoblaciÃ³n",children:[e.jsx("span",{className:a.icon,"aria-hidden":"true",children:"ðŸ˜ï¸"}),e.jsxs("span",{className:a.kpiText,children:[r(n.poblacion)," poblaciÃ³n"]})]}),e.jsxs("div",{className:a.kpiItem,"aria-label":"Caudal de diseÃ±o",children:[e.jsx("span",{className:a.icon,"aria-hidden":"true",children:"ðŸ’§"}),e.jsxs("span",{className:a.kpiText,children:[o(n.caudalDiseno)," L/s diseÃ±o"]})]}),n.caudalConcesion!=null&&e.jsxs("div",{className:a.kpiItem,"aria-label":"Caudal de concesiÃ³n",children:[e.jsx("span",{className:a.icon,"aria-hidden":"true",children:"ðŸ’§"}),e.jsxs("span",{className:a.kpiText,children:[o(n.caudalConcesion)," L/s concesiÃ³n"]})]})]}),Object.values({tipoAgua:n.tipoAgua,tipoPlanta:n.tipoPlanta,conduccion:n.conduccion,tanqueAbastec:n.tanqueAbastec,desarenador:n.desarenador,desinfeccion:n.desinfeccion}).some(Boolean)&&e.jsxs("details",{className:a.more,children:[e.jsx("summary",{className:a.moreSummary,children:"Ver mÃ¡s detalles"}),e.jsx("div",{className:a.detailGrid,children:Object.entries({"Tipo de agua":n.tipoAgua,"Tipo de planta":n.tipoPlanta,ConducciÃ³n:n.conduccion,Tanque:n.tanqueAbastec,Desarenador:n.desarenador,DesinfecciÃ³n:n.desinfeccion}).filter(([,t])=>!!t).map(([t,u])=>e.jsxs("div",{className:a.badge,children:[e.jsx("span",{children:t}),e.jsx("strong",{children:String(u)})]},t))})]})]})]})}export{E as default};
